<html><head>
	<META http-equiv="content-type" content="text/html; charset=utf-8">
	<title>dnet</title>
	</head><body>
	<h1>dnet</h1>
	<!-- Generated by Ddoc from src/dnet.d -->
<b>TODO:</b><br>
- packet reliability
- ordered arrival
- timeout detection when no traffic (pinging thread?)
<br><br>

<dl><dt><big>bool <u>dnet_on_connect</u>(InternetAddress <i>address</i>);
</big></dt>
<dd>Built in handler.
 Executed on each connect event with <i>address</i> of remote end as single argument.
<br><br>
<b>Returns:</b><br>
Should connection be accepted (use it to reject connections from clients if you are server).
<br><br>

</dd>
<dt><big>void <u>dnet_on_disconnect</u>(InternetAddress <i>address</i>);
</big></dt>
<dd>Built in handler.
 Executed on each disconnect event with <i>address</i> of remote end.
<br><br>

</dd>
<dt><big>void <u>dnet_on_receive</u>(ubyte[] <i>data</i>, InternetAddress <i>address</i>);
</big></dt>
<dd>Built in handler.
 Executed on each <i>data</i> receiving, with <i>address</i> of sender and <i>data</i> itself.
<br><br>

</dd>
<dt><big>bool <u>dnet_init</u>(bool(* <i>func_connect</i>)(InternetAddress) = &amp; dnet_on_connect, void(* <i>func_disconnect</i>)(InternetAddress) = &amp; dnet_on_disconnect, void(* <i>func_receive</i>)(ubyte[], InternetAddress) = &amp; dnet_on_receive);
</big></dt>
<dd>Initialize dnet before use.
 Must be done on both client and server before any other calls.
 Arguments are pointers to function that will handle events.
 You can leave default values for built in handlers, set <b>null</b> to disable that event handling,
 or you can use your custom event handlers.
<br><br>
<b>Returns:</b><br>
Initialization success. If <b>false</b> then you can't use lib.
<br><br>

</dd>
<dt><big>void <u>dnet_shutdown</u>();
</big></dt>
<dd>Shuts down all connections and clears resources.
 Use to shutdown server or client.
 After this call you will need to do dnet_init() again to use it.
<br><br>

</dd>
<dt><big>bool <u>dnet_server_create</u>(char[] <i>address</i>, ushort <i>port</i>);
</big></dt>
<dd>Creates server that listens on <i>address</i> and <i>port</i>. Leave empty string for localhost.
<br><br>
<b>Returns:</b><br>
Success of creating. If <b>true</b>, server is up and listening. If <b>false</b>, error occured. Maybe <i>port</i> is in use?
<br><br>

</dd>
<dt><big>InternetAddress[] <u>dnet_server_get_clients</u>();
</big></dt>
<dd><b>Returns:</b><br>
Array of all connected clients.
<br><br>

</dd>
<dt><big>void <u>dnet_server_send</u>(ubyte[] <i>data</i>, InternetAddress <i>client</i>);
</big></dt>
<dd>Sends <i>data</i> to connected <i>client</i>.
<br><br>

</dd>
<dt><big>void <u>dnet_server_disconnect</u>(InternetAddress <i>client</i>);
</big></dt>
<dd>Disconnects <i>client</i>.
<br><br>

</dd>
<dt><big>bool <u>dnet_client_connect</u>(char[] <i>address</i>, ushort <i>port</i>);
</big></dt>
<dd>Connect to server listening on <i>address</i> and <i>port</i>.
<br><br>
<b>Returns:</b><br>
Success of creating resourcess to server. If <b>false</b> then no resourcess could be established. <font color=red>True does not mean connection is accepted!</font> For that you will have to look for <i>on connect</i> event.
<br><br>

</dd>
<dt><big>void <u>dnet_client_send</u>(ubyte[] <i>data</i>);
</big></dt>
<dd>Sends <i>data</i> to connected server.
<br><br>

</dd>
</dl>

	<hr><small>Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>. </small>
	</body></html>
